meta {
  name: Authorize Login
  type: http
  seq: 4
}

post {
  url: {{baseurl}}/authorize
  body: formUrlEncoded
  auth: inherit
}

body:form-urlencoded {
  client_id: {{client_id}}
  response_type: code
  redirect_uri: {{redirect_uri}}
  state: {{state}}
  username: {{username}}
  password: {{password}}
}

vars:pre-request {
  : 
}

script:pre-request {
  const nanoid = require('nanoid');
  const state = nanoid.nanoid();
  bru.setVar("state", state)
}

settings {
  encodeUrl: true
}
